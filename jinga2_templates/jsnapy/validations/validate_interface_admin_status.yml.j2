validate_interface_status:
- command: show interfaces descriptions
{% for interface_node in test_interface_nodes | default(['physical-interface', 'logical-interface'])  %}'
{% raw %}
- iterate:
    id: name
    xpath: interface_node
    tests:
    - is-equal: admin-status, {% endraw %} {{ test_expected_admin_status | default('up') }} {% raw %}
      err: 'The admin status of {% endraw %} {{ interface_node }} {% raw %} {{ id_0 }} has changed: PRE: {{ pre["admin-status"] }} / POST: {{ post["admin-status"] }}'
      info: 'Admin status have not changed for {% endraw %} {{ interface_node }} {% raw %} {{ pre["admin-status"] }}.'
    - is-equal: oper-status, {% endraw %} {{ test_expected_oper_status | default('up') }} {% raw %}
      err: 'The oper status of {% endraw %} {{ interface_node }} {% raw %} {{ id_0 }} has changed: PRE: {{ pre["oper-status"] }} / POST: {{ post["oper-status"] }}'
      info: 'Oper status have not changed for  {% endraw %} {{ interface_node }} {% raw %} {{ pre["name"] }}.' {% endraw %}
{% endfor %}
